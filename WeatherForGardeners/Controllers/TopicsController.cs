using Microsoft.AspNetCore.Mvc;
using WeatherForGardeners.Models;

namespace WeatherForGardeners.Controllers
{
    public class TopicsController : Controller
    {
        // Список тем (можно заменить на данные из базы данных)
        private static readonly List<Topic> Topics = new List<Topic>
        {
            new Topic
            {
                Id = 1,
                Title = "Уход за растениями",
                Description = "Детальная статья о комплексном уходе за садовыми растениями.",
                Content = @"<p>Уход за растениями — это основа успешного садоводства.</p>
                            <h3>1. Регулярный полив</h3>
                            <p>Полив — это жизненно важная процедура. Следите за тем, чтобы ваши растения получали достаточно влаги:</p>
                            <ul>
                                <li>Проверяйте влажность почвы перед поливом.</li>
                                <li>Поливайте утром или вечером, чтобы избежать испарения.</li>
                                <li>Используйте капельный полив для равномерного распределения воды.</li>
                            </ul>
                            <h3>2. Подкормка и удобрения</h3>
                            <p>Удобрения помогут поддерживать здоровье растений и стимулировать их рост. Важно:</p>
                            <ul>
                                <li>Весной вносить азотные удобрения для стимуляции роста.</li>
                                <li>Летом использовать калийные удобрения для цветения и плодоношения.</li>
                                <li>Осенью добавлять органические вещества (компост).</li>
                            </ul>
                            <p>Регулярный уход и внимание сделают ваш сад здоровым и плодоносящим.</p>"
            },
            new Topic
            {
                Id = 2,
                Title = "Подготовка почвы",
                Description = "Как правильно подготовить почву перед посадкой?",
                Content = @"<p>Правильная подготовка почвы — залог успешного роста растений. Основные шаги:</p>
                            <ul>
                                <li>Очистите почву от сорняков и мусора.</li>
                                <li>Перекопайте землю на глубину 20–30 см для улучшения аэрации.</li>
                                <li>Добавьте компост или перегной для обогащения почвы.</li>
                                <li>Разровняйте почву граблями за 1–2 недели до посадки.</li>
                            </ul>"
            },
            new Topic
            {
                Id = 3,
                Title = "Полив растений",
                Description = "Рекомендации по правильному поливу.",
                Content = @"<p>Эффективный полив растений включает:</p>
                            <ul>
                                <li>Полив теплой водой для снижения стресса у растений.</li>
                                <li>Полив утром или вечером для минимизации испарения.</li>
                                <li>Установку системы капельного полива для равномерного увлажнения.</li>
                                <li>Избегание полива по листьям, чтобы предотвратить грибковые заболевания.</li>
                            </ul>"
            },
            new Topic
            {
                Id = 4,
                Title = "Защита от вредителей",
                Description = "Как защитить ваш сад от насекомых и болезней?",
                Content = @"<p>Для защиты растений от вредителей используйте:</p>
                            <ul>
                                <li>Биологические методы (например, привлечение полезных насекомых).</li>
                                <li>Натуральные настои, такие как чесночный или табачный раствор.</li>
                                <li>Регулярные осмотры растений для раннего выявления вредителей.</li>
                            </ul>"
            }
        };

        public IActionResult Index()
        {
            return View(Topics);
        }

        public IActionResult Details(int id)
        {
            var topic = Topics.FirstOrDefault(t => t.Id == id);
            if (topic == null) return NotFound();
            return PartialView("_TopicDetails", topic);
        }
    }
}
